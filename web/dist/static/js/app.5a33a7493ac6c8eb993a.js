webpackJsonp([0],[,,function(e,t,a){"use strict";var s=a(1),n=new s.default;t.a=n},,function(e,t,a){"use strict";t.a={permissionMenuMap:{dashboard:"Dashboard",admin:"后台管理",adminuser:"用户管理",adminrole:"角色管理",adminpermission:"权限管理",adminwholesale:"批发信息"}}},function(e,t,a){"use strict";var s=a(1),n=a(54),o=a(35),r=a.n(o),i=a(39),l=a.n(i),d=a(40),c=a.n(d),u=a(38),m=a.n(u),p=a(37),f=a.n(p);s.default.use(n.a),t.a=new n.a({routes:[{path:"/dashboard",component:r.a},{path:"/adminuser",component:l.a},{path:"/adminrole",component:m.a},{path:"/adminpermission",component:f.a},{path:"/adminwholesale",component:c.a}]})},function(e,t){},,function(e,t,a){function s(e){a(28)}var n=a(0)(a(12),a(50),s,"data-v-cad49406",null);e.exports=n.exports},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(6),n=(a.n(s),a(7)),o=a.n(n),r=a(1),i=a(10),l=a(9),d=a(8),c=a.n(d),u=a(2),m=a(5);r.default.use(i.a),r.default.use(l.a),r.default.use(o.a),r.default.config.productionTip=!1,r.default.http.options.root="https://api.avhair.com/api/v1",r.default.http.interceptors.push(function(e,t){e.credentials=!0,t(function(e){var t=e.data;if(t&&t.code>0)this.$Message.warning({content:t.message||"后台未知错误",duration:5});else if(e&&200!==e.status){console.error("vue http error response",e);var a=e.statusText;switch(e.status){case 404:a="页面或接口不存在!";break;case 500:a="服务器内部错误!"}this.$Message.warning({content:a||"后台未知错误",duration:5})}})});var p=new i.a.Store({state:{user:{userInfo:null,roles:[],permissions:[]}},mutations:{clearUser:function(e){e.user.userInfo=null,e.user.roles=[],e.user.permissions=[]},updateUser:function(e,t){t.id&&t.username&&(e.user.userInfo={id:t.id,username:t.username},e.user.roles=t.roles||[],e.user.permissions=t.permissions||[])}}});m.a.beforeEach(function(e,t,a){var s=e.path.substr(1),n=s.split("/").join(":");(p.state.user.permissions||[]).indexOf(n)<0?a(!1):a()}),m.a.afterEach(function(e,t){u.a.$emit("route-change",{to:e,from:t})}),new r.default({el:"#app",store:p,router:m.a,template:"<App/>",components:{App:c.a}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(42),n=a.n(s),o=a(41),r=a.n(o),i=a(43),l=a.n(i),d=a(36),c=a.n(d),u=a(4);t.default={data:function(){return{errorMessage:"",loginSettle:!1}},computed:{permissions:function(){var e=this.$store.state.user.permissions||[],t={};return e.forEach(function(e){t[e]={name:e,menuName:u.a.permissionMenuMap[e]||"unknown menu"}}),t},notLogin:function(){var e=!0;return this.$store.state.user&&this.$store.state.user.userInfo&&(e=!1),e}},created:function(){var e=this;this.$http.get("sessions").then(function(t){e.loginSettle=!0;var a=t.data?t.data.data[0]:null;a&&a.id&&a.username?(e.$store.commit("updateUser",a),e.$router.replace("dashboard")):e.$store.commit("clearUser")},function(t){e.$store.commit("clearUser"),console.error("App - session request error",t)})},components:{"login-view":c.a,"side-menu":n.a,navigator:r.a,"top-menu":l.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{userInfo:this.$store.state.user?this.$store.state.user.userInfo:{},roles:this.$store.state.user?this.$store.state.user.roles:[],permissions:this.$store.state.user?this.$store.state.user.permissions:[]}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){function e(e,t,a){""===t?a(new Error("请输入邮箱或用户名")):a()}function t(e,t,a){""===t?a(new Error("请输入密码")):a()}return{loading:!1,tip:!0,formLogin:{email:"",password:""},ruleCustom:{email:[{validator:e,trigger:"blur"}],password:[{validator:t,trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.loading=!0,this.$refs[e].validate(function(e){e?t.$http.post("sessions",{username:t.formLogin.email,password:t.formLogin.password}).then(function(e){var a=e.data.data;a&&a.id&&a.username&&(t.$store.commit("updateUser",a),t.$router.replace("/dashboard")),setTimeout(function(){t.loading=!1},2e3)}).catch(function(e){console.error("session creation error",e),setTimeout(function(){t.loading=!1},2e3)}):t.$Message.error("信息验证失败，请检查!")})},handleReset:function(e){this.$refs[e].resetFields()},mouseover:function(){this.tip||(this.tip=!0)},mouseout:function(){this.tip=!1}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=["dashboard","admin","admin:user","admin:role","admin:permission"];t.default={data:function(){var e=this;return{dataModel:{},rules:{name:[{required:!0,message:"角色名称不能为空",trigger:"blur"},{type:"string",min:3,message:"名称不能少于3位",trigger:"blur"}],comment:[{required:!0,message:"角色备注不能为空",trigger:"blur"},{type:"string",min:2,message:"备注不能少于2位",trigger:"blur"}]},editModal:!1,destroyModal:!1,destroyData:null,totalCount:0,pageSize:10,currentPage:1,tableData:[],tableColumns:[{title:"ID",key:"id",align:"center"},{title:"角色",key:"name",align:"center"},{title:"备注",key:"comment",align:"center"},{title:"创建时间",key:"createdAt",align:"center",render:function(e,t){return moment(t.row.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"更新时间",key:"updatedAt",align:"center",render:function(e,t){return moment(t.row.updatedAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"操作",key:"actions",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:a.row.name&&_.includes(s,a.row.name)},style:{marginRight:"5px"},on:{click:function(){e.showEdit(a.index)}}},"编辑"),t("Button",{props:{type:"error",size:"small",disabled:a.row.name&&_.includes(s,a.row.name)},on:{click:function(){e.showDestroy(a.index)}}},"删除")])}}]}},created:function(){this.changePage(1)},methods:{changePage:function(e){var t=this;this.currentPage=e,this.$http.get("admin/permissions?limit=10&offset="+((e||1)-1)*this.pageSize).then(function(e){var a=e.data.data;t.tableData=a.rows,t.totalCount=a.count})},showCreate:function(){this.dataModel={},this.editModal=!0},showDestroy:function(e){this.destroyData=this.tableData[e],this.destroyModal=!0},destroy:function(e){var t=this;e&&this.destroyData&&this.$http.delete("admin/permissions/"+this.destroyData.id).then(function(){t.$Message.success("删除成功!"),t.refresh()}),this.destroyModal=!1},refresh:function(){this.currentPage&&this.changePage(this.currentPage)},showEdit:function(e){var t=this.tableData[e];this.dataModel.id=t.id,this.dataModel.name=t.name,this.dataModel.comment=t.comment,this.editModal=!0},edit:function(e){var t=this;e?this.$refs.dataModel.validate(function(e){if(e){var a=t.dataModel.id;a?t.$http.put("admin/permissions/"+a,{name:t.dataModel.name||void 0,comment:t.dataModel.comment||void 0}).then(function(){t.$Message.success("编辑成功!"),t.refresh()}):t.$http.post("admin/permissions",{name:t.dataModel.name||void 0,comment:t.dataModel.comment||void 0}).then(function(){t.$Message.success("新增成功!"),t.refresh()})}else t.$Message.error("表单验证失败!")}):this.$refs.dataModel.resetFields()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this;return{allPermissions:[],dataModel:{},rules:{name:[{required:!0,message:"角色名称不能为空",trigger:"blur"},{type:"string",min:3,message:"名称不能少于3位",trigger:"blur"}],comment:[{required:!0,message:"角色备注不能为空",trigger:"blur"},{type:"string",min:2,message:"备注不能少于2位",trigger:"blur"}]},permissionModal:!1,editModal:!1,destroyModal:!1,destroyData:null,totalCount:0,pageSize:10,currentPage:1,tableData:[],tableColumns:[{title:"ID",key:"id",align:"center"},{title:"角色",key:"name",align:"center"},{title:"备注",key:"comment",align:"center"},{title:"创建时间",key:"createdAt",align:"center",render:function(e,t){return moment(t.row.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"更新时间",key:"updatedAt",align:"center",render:function(e,t){return moment(t.row.updatedAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"操作",key:"actions",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:a.row.name&&("admin"===a.row.name||"member"===a.row.name)},style:{marginRight:"5px"},on:{click:function(){e.showEdit(a.index)}}},"编辑"),t("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showEditPermissions(a.index)}}},"权限"),t("Button",{props:{type:"error",size:"small",disabled:a.row.name&&("admin"===a.row.name||"member"===a.row.name)},on:{click:function(){e.showDestroy(a.index)}}},"删除")])}}]}},created:function(){var e=this;this.changePage(1),this.$http.get("admin/permissions?limit=1000").then(function(t){var a=t.data.data;e.allPermissions=a.rows})},methods:{changePage:function(e){var t=this;this.currentPage=e,this.$http.get("admin/roles?limit=10&offset="+((e||1)-1)*this.pageSize).then(function(e){var a=e.data.data;t.tableData=a.rows,t.totalCount=a.count})},showCreate:function(){this.dataModel={},this.editModal=!0},showEditPermissions:function(e){var t=this.tableData[e];this.dataModel.id=t.id;var a=this.allPermissions,s=t.permissions;_.forEach(a,function(e){e.selected=!1,_.forEach(s,function(t){if(e.name===t.name)return e.selected=!0,!1})}),this.dataModel.permissions=a,this.permissionModal=!0},editPermission:function(e){var t=this;if(e){var a=[];_.forEach(this.dataModel.permissions,function(e){e.selected&&a.push(e.name)}),this.$http.put("admin/roles/"+this.dataModel.id+"/permissions",{permissions:a}).then(function(){t.$Message.success("更新成功!"),t.refresh()})}this.permissionModal=!1},showDestroy:function(e){this.destroyData=this.tableData[e],this.destroyModal=!0},destroy:function(e){var t=this;e&&this.destroyData&&this.$http.delete("admin/roles/"+this.destroyData.id).then(function(){t.$Message.success("删除成功!"),t.refresh()}),this.destroyModal=!1},refresh:function(){this.currentPage&&this.changePage(this.currentPage)},showEdit:function(e){var t=this.tableData[e];this.dataModel.id=t.id,this.dataModel.name=t.name,this.dataModel.comment=t.comment,this.editModal=!0},edit:function(e){var t=this;e?this.$refs.dataModel.validate(function(e){if(e){var a=t.dataModel.id;a?t.$http.put("admin/roles/"+a,{name:t.dataModel.name||void 0,comment:t.dataModel.comment||void 0}).then(function(){t.$Message.success("编辑成功!"),t.refresh()}):t.$http.post("admin/roles",{name:t.dataModel.name||void 0,comment:t.dataModel.comment||void 0}).then(function(){t.$Message.success("新增成功!"),t.refresh()})}else t.$Message.error("表单验证失败!")}):this.$refs.dataModel.resetFields()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this;return{allRoles:[],dataModel:{},rules:{username:[{required:!0,message:"姓名不能为空",trigger:"blur"},{type:"string",min:3,message:"姓名不能少于3位",trigger:"blur"}],password:[{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]},editModal:!1,destroyModal:!1,destroyData:null,totalCount:0,pageSize:10,currentPage:1,tableData:[],tableColumns:[{title:"ID",key:"id",align:"center"},{title:"用户名",key:"username",align:"center"},{title:"角色",key:"roles",align:"center",render:function(e,t){return(t.row.roles||[]).map(function(e){return e.name}).join(", ")||"-"}},{title:"状态",key:"disabled",align:"center",render:function(e,t){var a=t.row.disabled;return e("Tag",{props:{type:"dot",color:a?"red":"green"}},a?"禁用":"启用")}},{title:"创建时间",key:"createdAt",align:"center",render:function(e,t){return moment(t.row.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"更新时间",key:"updatedAt",align:"center",render:function(e,t){return moment(t.row.updatedAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"操作",key:"actions",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.showEdit(a.index)}}},"编辑"),t("Button",{props:{type:"error",size:"small",disabled:a.row.username&&"admin"===a.row.username},on:{click:function(){e.showDestroy(a.index)}}},"删除")])}}]}},created:function(){var e=this;this.changePage(1),this.$http.get("admin/roles?limit=100").then(function(t){var a=t.data.data;e.allRoles=a.rows})},methods:{changePage:function(e){var t=this;this.currentPage=e,this.$http.get("admin/users?limit=10&offset="+((e||1)-1)*this.pageSize).then(function(e){var a=e.data.data;t.tableData=a.rows,t.totalCount=a.count})},showCreate:function(){this.dataModel={};var e=this.allRoles;_.forEach(e,function(e){e.selected=!1}),this.dataModel.roles=e,this.editModal=!0},showDestroy:function(e){this.destroyData=this.tableData[e],this.destroyModal=!0},destroy:function(e){var t=this;e&&this.destroyData&&this.$http.delete("admin/users/"+this.destroyData.id).then(function(){t.$Message.success("删除成功!"),t.refresh()}),this.destroyModal=!1},refresh:function(){this.currentPage&&this.changePage(this.currentPage)},showEdit:function(e){var t=this.tableData[e];this.dataModel.id=t.id,this.dataModel.username=t.username,this.dataModel.enabled=!t.disabled,this.dataModel.password="";var a=this.allRoles,s=t.roles;_.forEach(a,function(e){e.selected=!1,_.forEach(s,function(t){if(e.name===t.name)return e.selected=!0,!1})}),this.dataModel.roles=a,this.editModal=!0},edit:function(e){var t=this;e?this.$refs.dataModel.validate(function(e){if(e){var a=t.dataModel.id,s=[];_.forEach(t.dataModel.roles,function(e){e.selected&&s.push(e.name)}),a?t.$http.put("admin/users/"+a,{password:t.dataModel.password||void 0,username:t.dataModel.username||void 0,disabled:!t.dataModel.enabled,roles:s}).then(function(){t.$Message.success("编辑成功!"),t.refresh()}):t.$http.post("admin/users",{password:t.dataModel.password||void 0,username:t.dataModel.username||void 0,disabled:!t.dataModel.enabled,roles:s}).then(function(){t.$Message.success("新增成功!"),t.refresh()})}else t.$Message.error("表单验证失败!")}):this.$refs.dataModel.resetFields()}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this;return{allRoles:[],dataModel:{},rules:{username:[{required:!0,message:"姓名不能为空",trigger:"blur"},{type:"string",min:3,message:"姓名不能少于3位",trigger:"blur"}],password:[{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]},editModal:!1,destroyModal:!1,destroyData:null,totalCount:0,pageSize:10,currentPage:1,tableData:[],tableColumns:[{title:"ID",key:"id",align:"center"},{title:"Name",key:"names",align:"center"},{title:"Email",key:"email",align:"center"},{title:"Telephone",key:"telephone",align:"center"},{title:"Country",key:"country",align:"center"},{title:"Message",key:"messages",align:"center"},{title:"创建时间",key:"createdAt",align:"center",render:function(e,t){return moment(t.row.createdAt).format("YYYY-MM-DD HH:mm:ss")}},{title:"操作",key:"actions",align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"error",size:"small",disabled:a.row.username&&"admin"===a.row.username},on:{click:function(){e.showDestroy(a.index)}}},"删除")])}}]}},created:function(){var e=this;this.changePage(1),this.$http.get("admin/roles?limit=100").then(function(t){var a=t.data.data;e.allRoles=a.rows})},methods:{changePage:function(e){var t=this;this.currentPage=e,this.$http.get("rest/wholesale?limit=10&offset="+((e||1)-1)*this.pageSize).then(function(e){var a=e.data.data;t.tableData=a.rows,t.totalCount=a.count})},showDestroy:function(e){this.destroyData=this.tableData[e],this.destroyModal=!0},destroy:function(e){var t=this;e&&this.destroyData&&this.$http.delete("rest/wholesale/"+this.destroyData.id).then(function(){t.$Message.success("删除成功!"),t.refresh()}),this.destroyModal=!1},refresh:function(){this.currentPage&&this.changePage(this.currentPage)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=a(4);t.default={name:"Navigator",data:function(){return{itemNames:["Dashboard"]}},created:function(){var e=this;s.a.$on("route-change",function(t){var a=t.to,s=a.path.substr(1),o=s.split("/"),r=[],i="";o.forEach(function(e){i&&(i+=":"),i+=e,r.push(n.a.permissionMenuMap[i]||"unknown menu")}),e.itemNames=r})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(2);t.default={name:"SideMenu",props:["permissions"],data:function(){return{menuItemArr:[],activeMenu:""}},computed:{},methods:{routeTo:function(e){if(e){var t="/"+e.split(":").join("/");this.$router.push(t)}}},created:function(){var e=this,t=this.$router.currentRoute,a=t.path.substr(1);this.menuItemArr=[a.split("/")[0]],this.activeMenu=a.split("/").join(":"),s.a.$on("route-change",function(t){var a=t.to,s=a.path.substr(1);e.menuItemArr=[s.split("/")[0]],e.activeMenu=s.split("/").join(":")})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TopMenu",data:function(){return{passwordModal:!1,dataModel:{},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}],newPasswordRepeat:[{required:!0,message:"新密码重复不能为空",trigger:"blur"},{type:"string",min:6,message:"密码不能少于6位",trigger:"blur"}]}}},methods:{action:function(e){var t=this;"logout"===e?this.$http.delete("sessions").then(function(){t.$store.commit("clearUser")}):"password"===e&&(this.dataModel={},this.passwordModal=!0)},confirm:function(e){var t=this;e?this.$refs.dataModel.validate(function(e){e?t.$http.post("sessions/update-password",{oldPassword:t.dataModel.oldPassword,newPassword:t.dataModel.newPassword,newPasswordRepeat:t.dataModel.newPasswordRepeat}).then(function(){t.$Message.success("修改成功!")}):t.$Message.error("表单验证失败!")}):this.$refs.dataModel.resetFields()}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,a){function s(e){a(24)}var n=a(0)(a(13),a(46),s,"data-v-4a23666f",null);e.exports=n.exports},function(e,t,a){function s(e){a(27)}var n=a(0)(a(14),a(49),s,"data-v-bdbfdb78",null);e.exports=n.exports},function(e,t,a){function s(e){a(25)}var n=a(0)(a(15),a(47),s,"data-v-5a365304",null);e.exports=n.exports},function(e,t,a){function s(e){a(31)}var n=a(0)(a(16),a(53),s,"data-v-fea9082a",null);e.exports=n.exports},function(e,t,a){function s(e){a(30)}var n=a(0)(a(17),a(52),s,"data-v-fea59680",null);e.exports=n.exports},function(e,t,a){function s(e){a(22)}var n=a(0)(a(18),a(44),s,"data-v-195ba059",null);e.exports=n.exports},function(e,t,a){function s(e){a(29)}var n=a(0)(a(19),a(51),s,"data-v-d3dba332",null);e.exports=n.exports},function(e,t,a){function s(e){a(26)}var n=a(0)(a(20),a(48),s,"data-v-6fe526f6",null);e.exports=n.exports},function(e,t,a){function s(e){a(23)}var n=a(0)(a(21),a(45),s,"data-v-2a6e33e4",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-user-view"},[a("Card",{attrs:{"dis-hover":""}},[a("Row",{staticClass:"table-action-section",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"22"}},[a("b",[e._v("批发信息")])]),e._v(" "),a("Col",{attrs:{offset:"1",span:"1"}})],1),e._v(" "),a("Table",{attrs:{border:"",data:e.tableData,columns:e.tableColumns,stripe:""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-total":"",total:e.totalCount,"page-size":e.pageSize},on:{"on-change":e.changePage}})],1)])],1),e._v(" "),a("Modal",{attrs:{width:"300"},model:{value:e.destroyModal,callback:function(t){e.destroyModal=t},expression:"destroyModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("用户删除确认")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[a("p",[e._v("用户："+e._s(e.destroyData?e.destroyData.username:"-"))]),e._v(" "),a("p",[e._v("将被删除且无法恢复，是否继续？")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){return e.destroy(!0)}}},[e._v("删除")])],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"top-menu"},[a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.action}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("Icon",{attrs:{type:"person",size:"15"}}),e._v(" "),a("Icon",{attrs:{type:"arrow-down-b",size:"15"}})],1),e._v(" "),a("Dropdown-menu",{attrs:{slot:"list"},slot:"list"},[a("Dropdown-item",{attrs:{name:"password"}},[e._v("修改密码")]),e._v(" "),a("Dropdown-item",{attrs:{name:"logout"}},[e._v("登出")])],1)],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"修改密码"},on:{"on-ok":function(t){return e.confirm(!0)},"on-cancel":function(t){return e.confirm(!1)}},model:{value:e.passwordModal,callback:function(t){e.passwordModal=t},expression:"passwordModal"}},[a("Form",{ref:"dataModel",attrs:{model:e.dataModel,rules:e.rules,"label-width":100}},[a("Form-item",{attrs:{label:"原密码",prop:"oldPassword"}},[a("Input",{attrs:{type:"password",placeholder:"请输入原密码"},model:{value:e.dataModel.oldPassword,callback:function(t){e.$set(e.dataModel,"oldPassword",t)},expression:"dataModel.oldPassword"}})],1),e._v(" "),a("Form-item",{attrs:{label:"新密码",prop:"newPassword"}},[a("Input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:e.dataModel.newPassword,callback:function(t){e.$set(e.dataModel,"newPassword",t)},expression:"dataModel.newPassword"}})],1),e._v(" "),a("Form-item",{attrs:{label:"重复新密码",prop:"newPasswordRepeat"}},[a("Input",{attrs:{type:"password",placeholder:"请重复新密码"},model:{value:e.dataModel.newPasswordRepeat,callback:function(t){e.$set(e.dataModel,"newPasswordRepeat",t)},expression:"dataModel.newPasswordRepeat"}})],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",{attrs:{type:"flex",justify:"space-around"}},[a("Col",{staticClass:"dash-row",attrs:{span:"4"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("Welcome")]),e._v(" "),a("p",[e._v("Welcome, user "),a("b",[e._v(e._s(e.userInfo.username))])]),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")])])],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("Your Roles")]),e._v(" "),e._l(e.roles,function(t){return a("p",{key:t},[e._v(e._s(t))])}),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")])],2)],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("Your Permissions")]),e._v(" "),e._l(e.permissions,function(t){return a("p",{key:t},[e._v(e._s(t))])})],2)],1),e._v(" "),a("Col",{attrs:{span:"4"}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("Todos")]),e._v(" "),a("p",[e._v("TODO1")]),e._v(" "),a("p",[e._v("TODO2")]),e._v(" "),a("p",[e._v("TODO3")]),e._v(" "),a("p",[e._v(" ")]),e._v(" "),a("p",[e._v(" ")])])],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-user-view"},[a("Card",{attrs:{"dis-hover":""}},[a("Row",{staticClass:"table-action-section",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"22"}},[a("b",[e._v("权限列表")])]),e._v(" "),a("Col",{attrs:{offset:"1",span:"1"}},[a("Button",{attrs:{type:"text",size:"small",icon:"plus"},on:{click:e.showCreate}},[e._v("新增")])],1)],1),e._v(" "),a("Table",{attrs:{border:"",data:e.tableData,columns:e.tableColumns,stripe:""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-total":"",total:e.totalCount,"page-size":e.pageSize},on:{"on-change":e.changePage}})],1)])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"编辑权限信息"},on:{"on-ok":function(t){return e.edit(!0)},"on-cancel":function(t){return e.edit(!1)}},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("Form",{ref:"dataModel",attrs:{model:e.dataModel,rules:e.rules,"label-width":80}},[a("Form-item",{attrs:{label:"权限",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入权限名称"},model:{value:e.dataModel.name,callback:function(t){e.$set(e.dataModel,"name",t)},expression:"dataModel.name"}})],1),e._v(" "),a("Form-item",{attrs:{label:"备注",prop:"comment"}},[a("Input",{attrs:{placeholder:"请输入权限备注"},model:{value:e.dataModel.comment,callback:function(t){e.$set(e.dataModel,"comment",t)},expression:"dataModel.comment"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"300"},model:{value:e.destroyModal,callback:function(t){e.destroyModal=t},expression:"destroyModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("角色删除确认")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[a("p",[e._v("角色："+e._s(e.destroyData?e.destroyData.name:"-"))]),e._v(" "),a("p",[e._v("将被删除且无法恢复，是否继续？")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){return e.destroy(!0)}}},[e._v("删除")])],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Menu",{attrs:{theme:"dark",width:"auto","open-names":e.menuItemArr,"active-name":e.activeMenu},on:{"on-select":e.routeTo}},[a("Row",{attrs:{justify:"center",align:"middle"}},[a("Col",{staticClass:"layout-logo-left",attrs:{span:"22",offset:"1"}},[e._v("express-vue-admin")])],1),e._v(" "),e.permissions.dashboard?a("Menu-item",{attrs:{name:"dashboard"}},[a("Icon",{attrs:{type:"monitor"}}),e._v("\n    "+e._s(e.permissions.dashboard.menuName)+"\n  ")],1):e._e(),e._v(" "),e.permissions.admin?a("Submenu",{attrs:{name:"admin"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"settings"}}),e._v("\n      "+e._s(e.permissions.admin.menuName)+"\n    ")],1),e._v(" "),e.permissions.adminuser?a("Menu-item",{attrs:{name:"adminuser"}},[e._v(e._s(e.permissions.adminuser.menuName))]):e._e(),e._v(" "),e.permissions.adminrole?a("Menu-item",{attrs:{name:"adminrole"}},[e._v(e._s(e.permissions.adminrole.menuName))]):e._e(),e._v(" "),e.permissions.adminpermission?a("Menu-item",{attrs:{name:"adminpermission"}},[e._v(e._s(e.permissions.adminpermission.menuName))]):e._e(),e._v(" "),e.permissions.adminwholesale?a("Menu-item",{attrs:{name:"adminwholesale"}},[e._v(e._s(e.permissions.adminwholesale.menuName))]):e._e()],2):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"spin-row",attrs:{justify:"center",align:"middle"}},[a("Col",{staticClass:"spin-col",attrs:{span:"8",offset:"8"}},[a("Spin",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"login-spin",attrs:{fix:"",size:"large"}}),e._v(" ")],1)],1),e._v(" "),a("Row",{staticClass:"title-row",attrs:{justify:"center",align:"middle"}},[a("Col",{staticClass:"title-col",attrs:{span:"8",offset:"8"}},[e._v("express-vue-admin")])],1),e._v(" "),a("Row",{staticClass:"login-row",attrs:{justify:"center",align:"middle"}},[a("Col",{staticClass:"login-col",attrs:{span:"24"}},[a("Card",{staticClass:"login-card"},[a("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        请登录\n      ")]),e._v(" "),a("Form",{ref:"formLogin",attrs:{model:e.formLogin,rules:e.ruleCustom,"label-width":40}},[a("Form-item",{attrs:{label:"邮箱",prop:"email"}},[a("Input",{attrs:{type:"text"},model:{value:e.formLogin.email,callback:function(t){e.$set(e.formLogin,"email",t)},expression:"formLogin.email"}})],1),e._v(" "),a("Form-item",{attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{type:"password"},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password",t)},expression:"formLogin.password"}})],1),e._v(" "),a("Form-item",[a("Button",{attrs:{long:"",type:"success"},on:{click:function(t){return e.handleSubmit("formLogin")}}},[e._v("登录")])],1)],1)],1),e._v(" "),a("Poptip",{staticClass:"tip-section",attrs:{trigger:"hover",placement:"bottom-start"}},[a("Button",{attrs:{type:"ghost",shape:"circle"}},[e._v("登录信息")]),e._v(" "),a("div",{staticClass:"tip-table",attrs:{slot:"content"},slot:"content"},[a("table",[a("tbody",[a("tr",[a("td",[e._v("admin / adminpwd")])]),e._v(" "),a("tr",[a("td",[e._v("test / testpwd")])])])])])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-section",staticStyle:{height:"100%","min-height":"100%"}},[e.notLogin?a("login-view",{directives:[{name:"show",rawName:"v-show",value:e.loginSettle,expression:"loginSettle"}]}):a("div",{staticClass:"layout"},[a("Row",{staticStyle:{height:"100%","min-height":"100%"},attrs:{type:"flex"}},[a("i-col",{staticClass:"layout-menu-left",attrs:{span:"3"}},[a("side-menu",{attrs:{permissions:e.permissions}})],1),e._v(" "),a("i-col",{attrs:{span:"21"}},[e.errorMessage&&e.errorMessage.length?a("div",{staticClass:"error-wrapper"},[a("Alert",{attrs:{type:"warning","show-icon":""}},[a("i",{staticClass:"error-message"},[e._v(e._s(e.errorMessage))])])],1):e._e(),e._v(" "),a("div",{staticClass:"layout-header"},[a("Row",[a("Col",{attrs:{span:"23"}},[e._v(" ")]),e._v(" "),a("Col",{staticClass:"top-menu-section",attrs:{span:"1"}},[a("top-menu")],1)],1)],1),e._v(" "),a("navigator"),e._v(" "),a("router-view"),e._v(" "),a("div",{staticClass:"layout-copy"},[e._v("\n          made by\n          "),a("a",{attrs:{src:"https://github.com/jarontai"}},[e._v("jarontai")])])],1)],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-breadcrumb"},[a("Breadcrumb",e._l(e.itemNames,function(t){return a("Breadcrumb-item",{key:t},[e._v(e._s(t))])}),1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-user-view"},[a("Card",{attrs:{"dis-hover":""}},[a("Row",{staticClass:"table-action-section",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"22"}},[a("b",[e._v("用户列表")])]),e._v(" "),a("Col",{attrs:{offset:"1",span:"1"}},[a("Button",{attrs:{type:"text",size:"small",icon:"plus"},on:{click:e.showCreate}},[e._v("新增")])],1)],1),e._v(" "),a("Table",{attrs:{border:"",data:e.tableData,columns:e.tableColumns,stripe:""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-total":"",total:e.totalCount,"page-size":e.pageSize},on:{"on-change":e.changePage}})],1)])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"编辑用户信息"},on:{"on-ok":function(t){return e.edit(!0)},"on-cancel":function(t){return e.edit(!1)}},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("Form",{ref:"dataModel",attrs:{model:e.dataModel,rules:e.rules,"label-width":80}},[a("Form-item",{attrs:{label:"姓名",prop:"username"}},[a("Input",{attrs:{placeholder:"请输入姓名",disabled:"admin"===e.dataModel.username},model:{value:e.dataModel.username,callback:function(t){e.$set(e.dataModel,"username",t)},expression:"dataModel.username"}})],1),e._v(" "),a("Form-item",{attrs:{label:"密码",prop:"password"}},[a("Input",{attrs:{placeholder:"********"},model:{value:e.dataModel.password,callback:function(t){e.$set(e.dataModel,"password",t)},expression:"dataModel.password"}})],1),e._v(" "),a("Form-item",{attrs:{label:"启用",prop:"enabled"}},[a("i-switch",{attrs:{disabled:"admin"===e.dataModel.username},model:{value:e.dataModel.enabled,callback:function(t){e.$set(e.dataModel,"enabled",t)},expression:"dataModel.enabled"}})],1),e._v(" "),a("Form-item",{attrs:{label:"角色"}},[a("Checkbox-group",e._l(e.allRoles,function(t){return a("Checkbox",{key:t.name,attrs:{label:t.name,disabled:e.dataModel.username===t.name},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"role.selected"}})}),1)],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"300"},model:{value:e.destroyModal,callback:function(t){e.destroyModal=t},expression:"destroyModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("用户删除确认")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[a("p",[e._v("用户："+e._s(e.destroyData?e.destroyData.username:"-"))]),e._v(" "),a("p",[e._v("将被删除且无法恢复，是否继续？")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){return e.destroy(!0)}}},[e._v("删除")])],1)])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-user-view"},[a("Card",{attrs:{"dis-hover":""}},[a("Row",{staticClass:"table-action-section",attrs:{type:"flex",justify:"center"}},[a("Col",{attrs:{span:"22"}},[a("b",[e._v("角色列表")])]),e._v(" "),a("Col",{attrs:{offset:"1",span:"1"}},[a("Button",{attrs:{type:"text",size:"small",icon:"plus"},on:{click:e.showCreate}},[e._v("新增")])],1)],1),e._v(" "),a("Table",{attrs:{border:"",data:e.tableData,columns:e.tableColumns,stripe:""}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-total":"",total:e.totalCount,"page-size":e.pageSize},on:{"on-change":e.changePage}})],1)])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"编辑角色信息"},on:{"on-ok":function(t){return e.edit(!0)},"on-cancel":function(t){return e.edit(!1)}},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[a("Form",{ref:"dataModel",attrs:{model:e.dataModel,rules:e.rules,"label-width":80}},[a("Form-item",{attrs:{label:"角色",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入角色名称",disabled:"admin"===e.dataModel.name},model:{value:e.dataModel.name,callback:function(t){e.$set(e.dataModel,"name",t)},expression:"dataModel.name"}})],1),e._v(" "),a("Form-item",{attrs:{label:"备注",prop:"comment"}},[a("Input",{attrs:{placeholder:"请输入角色备注",disabled:"admin"===e.dataModel.name},model:{value:e.dataModel.comment,callback:function(t){e.$set(e.dataModel,"comment",t)},expression:"dataModel.comment"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"编辑角色权限"},on:{"on-ok":function(t){return e.editPermission(!0)},"on-cancel":function(t){return e.editPermission(!1)}},model:{value:e.permissionModal,callback:function(t){e.permissionModal=t},expression:"permissionModal"}},[a("Form",{attrs:{"label-width":80}},[a("Form-item",{attrs:{label:"权限"}},[a("Checkbox-group",e._l(e.allPermissions,function(t){return a("Checkbox",{key:t.name,attrs:{disabled:"dashboard"===t.name,label:t.name},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"permission.selected"}})}),1)],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"300"},model:{value:e.destroyModal,callback:function(t){e.destroyModal=t},expression:"destroyModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"information-circled"}}),e._v(" "),a("span",[e._v("角色删除确认")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[a("p",[e._v("角色："+e._s(e.destroyData?e.destroyData.name:"-"))]),e._v(" "),a("p",[e._v("将被删除且无法恢复，是否继续？")])]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){return e.destroy(!0)}}},[e._v("删除")])],1)])],1)},staticRenderFns:[]}},,,function(e,t){}],[11]);
//# sourceMappingURL=app.5a33a7493ac6c8eb993a.js.map